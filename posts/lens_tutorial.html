<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
 <!-- 
      loads the http over https ssl - 
      welcome to my website! 

	this theme is based off the Ice & Fire theme created by Lucas Gatsas
      https://www.twitter.com/LucasGatsas
      www.lucasgatsas.ch - switzerland. 
                                                    --> 

<!--
<script type="text/javascript">
var host = "https://katychuang.me/";
if ((host == window.location.host) && (window.location.protocol != "https:"))
    window.location.protocol = "https";
</script>
-->
<!-- Microsoft Internet Explorer documentMode compatMode setting IE Modus --> 
<script type="text/javascript">
var IE = null;
if (window.navigator.appName == "Microsoft Internet Explorer") {
  if (document.documentMode) {
  
    IE = document.documentMode; 
    } else {
   
        IE = 5; 
          if (document.compatMode) {
      if (document.compatMode == "CSS1Compat")
      IE = 11; 
      }
    }
  }
</script>

    <meta charset="utf-8">
    <!-- X-UA --> 
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="X-UA-Compatible" content="IE=11" />
    <link rel="author" title="Katy Chuang" href="https://plus.google.com/u/0/111391719267336703432/posts" />


    <meta name="google" content="notranslate" />
    <!-- Viewport --> 
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- index ROBOTS follow --> 
    <meta name="robots" content="index, follow" />
    <!-- Site Desciption --> 
    <meta name="description" content="My Programming Blog">
        <!-- Site Desciption --> 
    <meta name="keywords" content="Daniel Cardona Roja, Web Developer, Functional Programming, Mobile">
    <!-- Favicon --> 
    <link rel="shortcut icon" href="../static/img/ico.png" type="image/x-icon" />
    <!-- Blog Title -->
    <title>A programming blog</title>

    <!--     <title>{% if page.title %}{{ page.title }} - {{ site.title }}{% else %}{{ site.title }}{% endif %}</title>
--> 
    <!-- Property Metas --> 
    <meta property="og:image" content="/static/img/ix.png" />
    <meta property="og:title" content="My Programming Blog" />
    <meta property="og:site_name" content="My Programming Blog" />
    <!-- Canonical -->
    <link rel="canonical" href="{{ page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url }}">
    <!-- StyleSheet -->
    <link rel="stylesheet" href="../static/css/bootstrap.min.css">
    <link rel="stylesheet" href="../static/css/spaceg.stylesheets.css">
    <link rel="stylesheet" href="../static/css/syntax.css">
    <link rel="stylesheet" href="../static/css/custom.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/styles/default.min.css">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic,900,900italic" rel="stylesheet" type="text/css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,700,900,400italic,700italic,900italic" rel="stylesheet" type="text/css">

    <!-- Rss Feeds-->
    <link rel="alternate" type="application/rss+xml" title="Daniel Cardona's blog" href="./feed.xml">
    <link rel="alternate" type="application/atom+xml" title="Daniel Cardona's blog" href="./atom.xml">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style>
	#preloader {position:fixed;top:0;left:0;right:0;bottom:0;background-color:#fff; /* change if the mask should have another color then white */z-index:99; /* makes sure it stays on top */}
	#status {width:200px;height:200px;position:absolute;left:50%; /* centers the loading animation horizontally one the screen */top:50%; /* centers the loading animation vertically one the screen */background-image:url("/static/img/preloader.gif"); /* path to your loading animation */background-repeat:no-repeat;background-position:center;margin:-100px 0 0 -100px; /* is width and height divided by two */}
	ul, ol {margin-top: 0;margin-bottom: 10px;}
	.navbar-inverse {background-color: #FFF;border-color: #FFFFFF;}
</style> 
<!--link rel="stylesheet" href="https://danielcardonarojas.github.io/static/css/prettify.css"-->
<style>
	header.intro-header {background: #6f5499;background: no-repeat center center;background-attachment: scroll;-webkit-background-size: cover;-moz-background-size: cover;background-size: cover;-o-background-size: cover;}
	/* Preloader */#preloader {position:fixed;top:0;left:0;right:0;bottom:0;background-color:#fff; /* change if the mask should have another color then white */z-index:99; /* makes sure it stays on top */}
	#status {width:200px;height:200px;position:absolute;left:50%; /* centers the loading animation horizontally one the screen */top:50%; /* centers the loading animation vertically one the screen */background-image:; /* path to your loading animation */background-repeat:no-repeat;background-position:center;margin:-100px 0 0 -100px; /* is width and height divided by two */} 
	li {list-style: none;}
            body.modal-open 
            {overflow: hidden;padding-right: 0px;
        }
	article li {list-style: inherit;}
	article .figure {text-align: center}
    </style>
    <!-- end Loading front stylesheet here --> 
    </head>

    <body>
	<div id="preloader">
	    <div id="status">

	    </div>

	</div>  
	<!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://danielcardonarojas.github.io" id="blog-title-left-top">D.C</a>
        </div>   
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li class="dropdown">
                    <a href="#portfolioModal2" data-toggle="modal"><i class="fa fa-random" id="icon-top"></i></a>
                <ul class="dropdown-menu"></ul>
                </li>
                <li><a href="../about.html">About</a></li>
                <li><a href="../contact.html">Contact</a></li>

                <li><a href="../archive.html">Archive</a></li>
                <li><a href="https://github.com/DanielCardonaRojas" id="roundbutton" target="_blank"><i class="fa fa-github" style="font-size:2rem;"></i>Daniel Cardona Rojas</a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<!-- Portfolio Modals -->
    <div class="portfolio-modal modal fade" id="portfolioModal1" tabindex="-1" role="dialog" aria-hidden="true" style="padding-right:0px; overflow: hidden;">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h1 class="font-style-inline-small-h1">Daniel Cardona Rojas</h1>
                            <hr class="star-primary">
                            <img src="../static/img/face.png" class="img-responsive img-centered" alt title>
                            <p class="font-style-inline-small">
<<<<<<< HEAD
                                Hello, my name is Daniel I am a sound Engineer from Colombia passionate about many things
                                 This is my Personal Notice and Archive Work Experience Work Blog.  <br>
                                <a href="https://www.twitter.com/katychuang" target="_blank">follow me</a>. <br> 
                                <a href="https://www.github.com/katychuang" target="_blank">    <i class="fa fa-github" id="spaceg-social-modal"></i> </a> 
                                <a href="https://www.twitter.com/katychuang" target="_blank"><i class="fa fa-twitter" id="spaceg-social-modal"></i> </a>    
                                <a href="https://plus.google.com/u/0/114379033449724089135" target="_blank"> <i class="fa fa-google-plus" id="spaceg-social-modal"></i></a> 
=======
                                Hi I'm Daniel Cardona, a sound engineer from Colombia passionate about technology and programming
                                <a href="https://twitter.com/cocolatecardona" target="_blank">follow me</a>. <br> 
                                <a href="https://www.github.com/DanielCardonaRojas" target="_blank">    <i class="fa fa-github" id="spaceg-social-modal"></i> </a> 
                                <a href="https://www.twitter.com/cocolatecardona" target="_blank"><i class="fa fa-twitter" id="spaceg-social-modal"></i> </a>    
                                <a href="https://plus.google.com/u/1/114379033449724089135" target="_blank"> <i class="fa fa-google-plus" id="spaceg-social-modal"></i></a> 
>>>>>>> 0078181df20702bdab58d3fcbefc89a846277aa2
                            </p>
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
<!-- Menu Modals Add New Sa.21.Feb.2015 03:22:25 -->
    <div class="portfolio-modal modal fade" id="portfolioModal2" tabindex="-1" role="dialog" aria-hidden="true" style="padding-right:0px; overflow: hidden;">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h1 class="font-style-inline-small-h1">D.C</h1>
                            <hr class="star-primary">
                            <p class="font-style-inline-small">
                        <a href="https://www.twitter.com/CocolateCardona" target="_blank">follow</a>. <br> 
                        <a href="https://www.github.com/DanielCardonaRojas" target="_blank">    <i class="fa fa-github" id="spaceg-social-modal"></i> </a> 
                        <a href="https://www.twitter.com/CocolateCardona" target="_blank"><i class="fa fa-twitter" id="spaceg-social-modal"></i> </a>    
                        <a href="https://plus.google.com/u/0/111391719267336703432/posts" target="_blank"> <i class="fa fa-google-plus" id="spaceg-social-modal"></i></a>  <br>
                    <li><a href="../">Home</a></li>
                    <li><a href="about.html">About Me</a></li>
                    <li><a href="archive.html/">Archive</a></li>
                            </p>
                      
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



        <div id="content">
            <!-- Post Header -->
<header class="intro-header" style="background-image: url('https://danielcardonarojas.github.io/static/img/beach.jpg')" alt title>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Understanding Basics of Lenses</h1>
                    
                    <span class="meta">
		    
			February  1, 2017
		    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

			<p>Lenses is perhaps on of the toughest topics learning Haskell, even though they accomplish a very simple task, one that’s trivial in imperative languages. The reason for this is that for a purely functional programming language with immutability this is hard to get around.</p>
<p>In this post I’ll try to skim the basics of what I’ve learned.</p>
<p>The metaphor for lenses is that lenses can be stacked up (composed) like a microscope to see deeper into a structure. The nice this is that you can use a lens to either see down into the structure or modify it.</p>
<p>So you might have heard a lens is a setter and a getter bundled up in a single thing. So given a set of setter and getter for some data type we should be able to construct a lens.</p>
<p>The whole purpose of lenses is that they compose, so we can dig into a deeply nested structure and focus on that element, after which we will have to use some other utility functions to extract the setter and getter, and either update or just inspect the value.</p>
<h2 id="derivation">Derivation</h2>
<p>We’ll start defining the naive lens as is shown in other tutorials like (this)[]</p>
<p><strong>TODO</strong></p>
<h2 id="creating-a-lens-from-setter-and-getter">Creating a Lens from Setter and Getter</h2>
<p>The derivation of the shape of the lense is kind of magic and I don’t fully understand how on would arrive at it. So I’ll just state it here and then show we can transform a lense into a setter getter and some other useful things.</p>
<p>A lens is:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="kw">type</span> <span class="dt">Lens'</span> s a <span class="fu">=</span> forall f <span class="fu">.</span> <span class="dt">Functor</span> f <span class="ot">=&gt;</span> (a <span class="ot">-&gt;</span> f a) <span class="ot">-&gt;</span> (s <span class="ot">-&gt;</span> f s)</code></pre></div>
<p>you can think of it as focusing on an “a” inside a structure “s”. Or something that give an “s” can focus on an “a”.</p>
<p>So given a setter and a getter for some value inside <code>s</code> we can build a lens</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">createLens' ::</span> <span class="dt">Functor</span> f <span class="ot">=&gt;</span> (s <span class="ot">-&gt;</span> a) <span class="ot">-&gt;</span> (s <span class="ot">-&gt;</span> a <span class="ot">-&gt;</span> s) <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> f a) <span class="ot">-&gt;</span> (s <span class="ot">-&gt;</span> f s)
createLens' getter setter f s <span class="fu">=</span> fmap (setter s) <span class="fu">$</span> f (getter s)</code></pre></div>
<p>So this can be thought of like this: <code>f (getter s)</code> just takes the value inside s and puts in some container (functor) <code>(setter s) :: a -&gt; s</code> is waiting for a new value to return an updated s, so fmapping it will yield a new s inside the functor. When analyzing these functions pay attention to what argument names bound to in the type signature.</p>
<p>Note that <code>f :: (a -&gt; f a)</code> and is applied to <code>(getter s) :: a</code> yielding an <code>f a</code>, since <code>(setter s) :: a -&gt; s</code> it follows that <code>(setter s) &lt;$&gt; (getter s) :: f s</code></p>
<h2 id="extracting-the-getter-view-.">Extracting the getter (view) (^.)</h2>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">view ::</span> <span class="dt">Lens'</span> s a <span class="ot">-&gt;</span> s <span class="ot">-&gt;</span> a
view l s <span class="fu">=</span> getConst <span class="fu">$</span> l <span class="dt">Const</span> s

(<span class="fu">^.</span>) <span class="fu">=</span> flip view</code></pre></div>
<h2 id="extracting-setter-over">Extracting Setter (over) (%~)</h2>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">over ::</span> <span class="dt">Lens'</span> s a <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> a) <span class="ot">-&gt;</span> s <span class="ot">-&gt;</span> s
over l f s <span class="fu">=</span> runIdentity <span class="fu">$</span> l (<span class="dt">Identity</span> <span class="fu">.</span> f) s</code></pre></div>
<h2 id="defining-utilities">Defining Utilities</h2>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">(<span class="fu">&amp;</span>) <span class="fu">=</span> flip (<span class="fu">$</span>)
toListOf l <span class="fu">=</span> getConst <span class="fu">.</span> l (\x <span class="ot">-&gt;</span> <span class="dt">Const</span> [x])</code></pre></div>
<h2 id="further-reading">Further reading</h2>
<p>Lenses work on product types but prism extend the idea to sum types.</p>	

                <hr>

                <ul class="pager">
                    
                    
                </ul>

            </div>
        </div>
    </div>
</article>
<hr>

        </div>
        <div id="footer">
        </div>
      <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="./feed.xml" data-datatype="json" data-type="GET" data-target="#frame" class="reload" id="clickme">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://twitter.com/CocolateCardona" data-datatype="json" data-type="GET" data-target="#frame" class="reload" id="clickme" target="_blank">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://plus.google.com/u/2/114379033449724089135" data-datatype="json" data-type="GET" data-target="#frame" class="reload" id="clickme" target="_blank">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-google-plus fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                     
                     
                    <li>
                        <a href="https://github.com/DanielCardonaRojas" target="_blank">
                            <span class="fa-stack fa-lg">

                              <i class="fa fa-arrow-circle-o-down"></i>
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">Copyright &copy; Daniel Cardona Rojas 2017. <br><br> 
                </p>
<div class="col-md-12">
     <p class="copyright text-muted">
            Site generated by
            <a href="http://jaspervdj.be/hakyll">Hakyll</a>. Modified theme inspired by
      <!-- ICE AND FIRE THEME https://github.com/SpaceG/iceandfire -->
    <a href="https://github.com/SpaceG/CleanMagicMedium-Jekyll">CleanMagic.</a> </p>
    </div>


    
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="../static/js/jquery.min.js"></script>
<script src="../static/js/spaceg.stylesheets.min.js"></script> 
<script src="../static/js/bootstrap.min.js"></script>
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
<script src="../static/js/scripts.js"></script>

<!--<script src="https://danielcardonarojas.github.io/static/js/prism.js"></script>-->
<!--<script src="https://danielcardonarojas.github.io/static/js/highlight.pack.js"></script>-->
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>



    </body>
</html>
