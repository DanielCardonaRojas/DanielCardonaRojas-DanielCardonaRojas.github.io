<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
 <!-- 
      loads the http over https ssl - 
      welcome to my website! 

	this theme is based off the Ice & Fire theme created by Lucas Gatsas
      https://www.twitter.com/LucasGatsas
      www.lucasgatsas.ch - switzerland. 
                                                    --> 

<!--
<script type="text/javascript">
var host = "https://katychuang.me/";
if ((host == window.location.host) && (window.location.protocol != "https:"))
    window.location.protocol = "https";
</script>
-->
<!-- Microsoft Internet Explorer documentMode compatMode setting IE Modus --> 
<script type="text/javascript">
var IE = null;
if (window.navigator.appName == "Microsoft Internet Explorer") {
  if (document.documentMode) {
  
    IE = document.documentMode; 
    } else {
   
        IE = 5; 
          if (document.compatMode) {
      if (document.compatMode == "CSS1Compat")
      IE = 11; 
      }
    }
  }
</script>

    <meta charset="utf-8">
    <!-- X-UA --> 
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="X-UA-Compatible" content="IE=11" />
    <link rel="author" title="Katy Chuang" href="https://plus.google.com/u/0/111391719267336703432/posts" />


    <meta name="google" content="notranslate" />
    <!-- Viewport --> 
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- index ROBOTS follow --> 
    <meta name="robots" content="index, follow" />
    <!-- Site Desciption --> 
    <meta name="description" content="My Programming Blog">
        <!-- Site Desciption --> 
    <meta name="keywords" content="Katy Chuang, katychuang, data science, Web Developer, Front End Engineer">
    <!-- Favicon --> 
    <link rel="shortcut icon" href="../static/img/ico.png" type="image/x-icon" />
    <!-- Blog Title -->
    <title>My beautiful blog </title>

    <!--     <title>{% if page.title %}{{ page.title }} - {{ site.title }}{% else %}{{ site.title }}{% endif %}</title>
--> 
    <!-- Property Metas --> 
    <meta property="og:image" content="/static/img/ix.png" />
    <meta property="og:title" content="My Programming Blog" />
    <meta property="og:site_name" content="My Programming Blog" />
    <!-- Canonical -->
    <link rel="canonical" href="{{ page.url | replace:'index.html','' | prepend: site.baseurl | prepend: site.url }}">
    <!-- StyleSheet -->
    <link rel="stylesheet" href="../static/css/bootstrap.min.css">
    <link rel="stylesheet" href="../static/css/spaceg.stylesheets.css">
    <link rel="stylesheet" href="../static/css/syntax.css">
    <link rel="stylesheet" href="../static/css/custom.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/styles/default.min.css">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic,900,900italic" rel="stylesheet" type="text/css">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,700,900,400italic,700italic,900italic" rel="stylesheet" type="text/css">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style>
	#preloader {position:fixed;top:0;left:0;right:0;bottom:0;background-color:#fff; /* change if the mask should have another color then white */z-index:99; /* makes sure it stays on top */}
	#status {width:200px;height:200px;position:absolute;left:50%; /* centers the loading animation horizontally one the screen */top:50%; /* centers the loading animation vertically one the screen */background-image:url("/static/img/preloader.gif"); /* path to your loading animation */background-repeat:no-repeat;background-position:center;margin:-100px 0 0 -100px; /* is width and height divided by two */}
	ul, ol {margin-top: 0;margin-bottom: 10px;}
	.navbar-inverse {background-color: #FFF;border-color: #FFFFFF;}
</style> 
<!--link rel="stylesheet" href="https://danielcardonarojas.github.io/static/css/prettify.css"-->
<style>
	header.intro-header {background: #6f5499;background: no-repeat center center;background-attachment: scroll;-webkit-background-size: cover;-moz-background-size: cover;background-size: cover;-o-background-size: cover;}
	/* Preloader */#preloader {position:fixed;top:0;left:0;right:0;bottom:0;background-color:#fff; /* change if the mask should have another color then white */z-index:99; /* makes sure it stays on top */}
	#status {width:200px;height:200px;position:absolute;left:50%; /* centers the loading animation horizontally one the screen */top:50%; /* centers the loading animation vertically one the screen */background-image:; /* path to your loading animation */background-repeat:no-repeat;background-position:center;margin:-100px 0 0 -100px; /* is width and height divided by two */} 
	li {list-style: none;}
            body.modal-open 
            {overflow: hidden;padding-right: 0px;
        }
	article li {list-style: inherit;}
	article .figure {text-align: center}
    </style>
    <!-- end Loading front stylesheet here --> 
    </head>

    <body>
	<div id="preloader">
	    <div id="status">

	    </div>

	</div>  
	<!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://danielcardonarojas.github.io" id="blog-title-left-top">D.C</a>
        </div>   
        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li class="dropdown">
                    <a href="#portfolioModal2" data-toggle="modal"><i class="fa fa-random" id="icon-top"></i></a>
                <ul class="dropdown-menu"></ul>
                </li>
	           <li><a href="https://instagram.com//" target="_blank"><i class="fa fa-instagram" id="icon-top"></i></a></li>
                <li><a href="../about.html">About</a></li>
                <li><a href="../contact.html">Contact</a></li>

                <li><a href="../archive.html">Archive</a></li>
                <li><a href="https://www.twitter.com/CocolateCardona" id="roundbutton" target="_blank"><i class="fa fa-twitter"></i>Daniel Cardona Rojas</a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<!-- Portfolio Modals -->
    <div class="portfolio-modal modal fade" id="portfolioModal1" tabindex="-1" role="dialog" aria-hidden="true" style="padding-right:0px; overflow: hidden;">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h1 class="font-style-inline-small-h1">Lucas Gatsas</h1>
                            <hr class="star-primary">
                            <img src="../static/img/face.png" class="img-responsive img-centered" alt title>
                            <p class="font-style-inline-small">
                                Hello, my name is Lucas Gatsas, I'm a Front End Engineer <br>
                                and Web Developer from Switzerland. This is my Personal Notice and Archive Work Experience Work Blog. My Official Website will be Up soon!  <br>
                                <a href="https://www.twitter.com/katychuang" target="_blank">follow me</a>. <br> 
                                <a href="https://www.github.com/katychuang" target="_blank">    <i class="fa fa-github" id="spaceg-social-modal"></i> </a> 
                                <a href="https://www.twitter.com/katychuang" target="_blank"><i class="fa fa-twitter" id="spaceg-social-modal"></i> </a>    
                                <a href="https://plus.google.com/u/0/114379033449724089135" target="_blank"> <i class="fa fa-google-plus" id="spaceg-social-modal"></i></a> 
                            </p>
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
<!-- Menu Modals Add New Sa.21.Feb.2015 03:22:25 -->
    <div class="portfolio-modal modal fade" id="portfolioModal2" tabindex="-1" role="dialog" aria-hidden="true" style="padding-right:0px; overflow: hidden;">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <h1 class="font-style-inline-small-h1">D.C</h1>
                            <hr class="star-primary">
                            <p class="font-style-inline-small">
                        <a href="https://www.twitter.com/CocolateCardona" target="_blank">follow</a>. <br> 
                        <a href="https://www.github.com/DanielCardonaRojas" target="_blank">    <i class="fa fa-github" id="spaceg-social-modal"></i> </a> 
                        <a href="https://www.twitter.com/CocolateCardona" target="_blank"><i class="fa fa-twitter" id="spaceg-social-modal"></i> </a>    
                        <a href="https://plus.google.com/u/0/111391719267336703432/posts" target="_blank"> <i class="fa fa-google-plus" id="spaceg-social-modal"></i></a>  <br>
                    <li><a href="../">Home</a></li>
                    <li><a href="about.html">About Me</a></li>
                    <li><a href="archive.html/">Archive</a></li>
                            </p>
                      
                            <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-times"></i> Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



        <div id="content">
            <!-- Post Header -->
<header class="intro-header" style="background-image: url('https://danielcardonarojas.github.io/static/img/beach.jpg')" alt title>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Haskell for the imperative</h1>
                    
                    <span class="meta">
		    
			October 11, 2016
		    </span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

			<p>In this post i would like to show how in funciontal languages like Haskell with support for higher order functions and curring imperative like control structures can be me defined. But finally point out how functional programming has other tooling different from the imperative versions, that makes us think differently.</p>
<p>Lets try to construct a for loop just using functions. A simple for loop will almost look identical in any c like programming language.</p>
<div class="sourceCode"><pre class="sourceCode c"><code class="sourceCode c"><span class="kw">for</span> (i = <span class="dv">0</span>; i &lt; <span class="dv">9</span>; i++){
    <span class="co">//Do some side effecting operations</span>
}</code></pre></div>
<p>We can identify for parts in this control structures:</p>
<ul>
<li>An initial value</li>
<li>Some predicate to decide continuing the loop</li>
<li>An updateing function in this case a simple increment.</li>
</ul>
<p>Lets model this in Haskell, with the above information, lets give “for” a type:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">for' ::</span> a <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> <span class="dt">Bool</span>) <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> a) <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> <span class="dt">IO</span> ()) <span class="ot">-&gt;</span> <span class="dt">IO</span> ()</code></pre></div>
<p>for just returns an IO action that doesnt yeild any value, i.e a pure side effecting IO value. So lets try defining this function:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">
<span class="ot">for' ::</span> a <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> <span class="dt">Bool</span>) <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> a) <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> <span class="dt">IO</span> ()) <span class="ot">-&gt;</span> <span class="dt">IO</span> ()
for' i p f code <span class="fu">=</span> <span class="kw">if</span> p i <span class="kw">then</span> code i <span class="fu">&gt;&gt;</span> for' (f i) p f code  <span class="kw">else</span> return ()
            </code></pre></div>
<p>A simple one liner, very cool.</p>
<p>Lets try generalizing this for a bit more. Woulnt it be nice if the code inside the for loop could return a value in each iteration and those values be collected as a final result ?</p>
<p>Well we’ll do just that:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">for ::</span> a <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> <span class="dt">Bool</span>) <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> a) <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> <span class="dt">IO</span> b) <span class="ot">-&gt;</span> <span class="dt">IO</span> [b]</code></pre></div>
<p>The implementation is very easy as well:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">for ::</span> a <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> <span class="dt">Bool</span>) <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> a) <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> <span class="dt">IO</span> b) <span class="ot">-&gt;</span> <span class="dt">IO</span> [b]
for i p f code <span class="fu">=</span> 
    <span class="kw">case</span> p i <span class="kw">of</span> 
        <span class="dt">True</span> <span class="ot">-&gt;</span> <span class="kw">do</span>
            iterationResult <span class="ot">&lt;-</span> code i
            rest <span class="ot">&lt;-</span> for (f i) p f code
            return <span class="fu">$</span> iterationResult <span class="fu">:</span> rest
        <span class="dt">False</span> <span class="ot">-&gt;</span> return []</code></pre></div>
<p>Lets try using it to get a feel for it:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">example <span class="fu">=</span> for <span class="dv">1</span> (<span class="fu">&lt;</span> <span class="dv">3</span>) (<span class="fu">+</span> <span class="dv">1</span>) <span class="fu">$</span> 
            \i <span class="ot">-&gt;</span> <span class="kw">do</span>
                putStrLn <span class="fu">$</span> <span class="st">&quot;Iteration values is &quot;</span> <span class="fu">++</span> (show i)
                return (i<span class="fu">*</span><span class="dv">3</span>) <span class="co">-- the value that will be collected </span></code></pre></div>
<p><strong>Currying</strong></p>
<p>Because of currying defining new utilities is very simple for example lets define a new control function that just repeats an action a number of times:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">repeatN n <span class="fu">=</span> for' <span class="dv">0</span> (<span class="fu">&lt;</span> n) (<span class="fu">+</span> <span class="dv">1</span>) </code></pre></div>
<p>Now we can use it trivially like this:</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell">example2 <span class="fu">=</span> repeatN <span class="dv">3</span> (\_ <span class="ot">-&gt;</span> putStrLn <span class="st">&quot;Hello&quot;</span>)</code></pre></div>
<p><strong>Generalizing to Monad</strong></p>
<p>Finally we can go a step further to generalize this for not just to do IO but any other monadic effect just by changing the type signature and no more.</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">for ::</span> <span class="dt">Monad</span> m <span class="ot">=&gt;</span> a <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> <span class="dt">Bool</span>) <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> a) <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> m b) <span class="ot">-&gt;</span> m [b]</code></pre></div>
<p>Similar functions can be acheived for “if” and “while” control structures and can be generalized too.</p>
<p>Modern languages have variations of the classical for loop which suits better in object oriented contexts, like “for each” or “for in”. In haskell we have map for pure computations, mapM. And some other variations.</p>
<p>Although it is very interesting to see how easy it is to emulate for loops and other type of imperative structures, the definitions above would typically be written differently in a more declaritive and idiomatica way.</p>
<div class="sourceCode"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span class="ot">ffor ::</span> <span class="dt">Monad</span> m <span class="ot">=&gt;</span> a <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> <span class="dt">Bool</span>) <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> a) <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> m b) <span class="ot">-&gt;</span> m [b]
ffor i p m f <span class="fu">=</span> mapM f <span class="fu">$</span> filter p <span class="fu">$</span> iterate m i

<span class="ot">ffor' ::</span> <span class="dt">Monad</span> m <span class="ot">=&gt;</span> a <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> <span class="dt">Bool</span>) <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> a) <span class="ot">-&gt;</span> (a <span class="ot">-&gt;</span> m ()) <span class="ot">-&gt;</span> m ()
ffor' i p m f <span class="fu">=</span> mapM_ f <span class="fu">$</span> filter p <span class="fu">$</span> iterate m i</code></pre></div>
<p>Notice how reasoning about this definition is very different from the imperative version even though they do the same.</p>
<p>Describing the for loop in C (first snippet) would be something like this:</p>
<p><code>for</code> is a control structure that: 1) Starts a loop variable with an initial value 2) Checks if a condition holds using logical operators (if it doesnt exit/return) 3) Executes some user defined code 4) Modifies the loop variable (usually an increment) 5) Repeats steps 2) and 3) until exit.</p>
<p>Describing the Haskell version of the for loop might go something like this:</p>
<p>ffor is a function that collects the results of mapping a monadic function over a filtered list in wich the list is obtained by iterating a modifying function over an initial value.</p>	

                <hr>

                <ul class="pager">
                    
                    
                </ul>

            </div>
        </div>
    </div>
</article>
<hr>

        </div>
        <div id="footer">
        </div>
      <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="rss.xml" data-datatype="json" data-type="GET" data-target="#frame" class="reload" id="clickme">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    <li>
                        <a href="https://twitter.com/CocolateCardona" data-datatype="json" data-type="GET" data-target="#frame" class="reload" id="clickme" target="_blank">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                    <li>
                        <a href="https://plus.google.com/u/0/111391719267336703432/posts" data-datatype="json" data-type="GET" data-target="#frame" class="reload" id="clickme" target="_blank">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-google-plus fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                     
                     
                    <li>
                        <a href="https://github.com/DanielCardonaRojas" target="_blank">
                            <span class="fa-stack fa-lg">

                              <i class="fa fa-arrow-circle-o-down"></i>
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
		    
                    <li>
                        <a href="https://instagram.com/" target="_blank">
                            <span class="fa-stack fa-lg">

                              <i class="fa fa-arrow-circle-o-down"></i>
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-instagram fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		    
                </ul>
                <p class="copyright text-muted">Copyright &copy; Daniel Cardona Rojas 2016. <br><br> 
                </p>
<div class="col-md-12">
     <p class="copyright text-muted">
            Site generated by
            <a href="http://jaspervdj.be/hakyll">Hakyll</a>. Modified theme inspired by
      <!-- ICE AND FIRE THEME https://github.com/SpaceG/iceandfire -->
    <a href="https://github.com/SpaceG/CleanMagicMedium-Jekyll">CleanMagic.</a> </p>
    </div>


    
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="../static/js/jquery.min.js"></script>
<script src="../static/js/spaceg.stylesheets.min.js"></script> 
<script src="../static/js/bootstrap.min.js"></script>
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
<script src="../static/js/scripts.js"></script>

<!--<script src="https://danielcardonarojas.github.io/static/js/prism.js"></script>-->
<!--<script src="https://danielcardonarojas.github.io/static/js/highlight.pack.js"></script>-->
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>



    </body>
</html>
